(function(){function n(e){var t=document.querySelectorAll("svg image");var n=t.length;if(n==0){e()}for(var r=0;r<t.length;r++){(function(t){if(t.getAttribute("xlink:href")){var r=t.getAttribute("xlink:href").value;if(/^http/.test(r)&&!(new RegExp("^"+window.location.host)).test(r)){throw new Error("Cannot render embedded images linking to external hosts.")}}var i=document.createElement("canvas");var s=i.getContext("2d");var o=new Image;o.src=t.getAttribute("xlink:href");o.onload=function(){i.width=o.width;i.height=o.height;s.drawImage(o,0,0);t.setAttribute("xlink:href",i.toDataURL("image/png"));n--;if(n==0){e()}}})(t[r])}}function r(e){var t="";var n=document.styleSheets;for(var r=0;r<n.length;r++){var i=n[r].cssRules;if(i!=null){for(var s=0;s<i.length;s++){var o=i[s];if(typeof o.style!="undefined"){t+=o.selectorText+" { "+o.style.cssText+" }\n"}}}}var u=document.createElement("style");u.setAttribute("type","text/css");u.innerHTML="<![CDATA[\n"+t+"\n]]>";var a=document.createElement("defs");a.appendChild(u);return a}var e=typeof exports!="undefined"&&exports||this;var t='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';e.svgAsDataUri=function(i,s,o){s=s||1;n(function(){var n=document.createElement("div");var u=i.cloneNode(true);var a=parseInt(u.getAttribute("width")||u.style.width||e.getComputedStyle(i).getPropertyValue("width"));var f=parseInt(u.getAttribute("height")||u.style.height||e.getComputedStyle(i).getPropertyValue("height"));var l="http://www.w3.org/2000/xmlns/";u.setAttribute("version","1.1");u.setAttributeNS(l,"xmlns","http://www.w3.org/2000/svg");u.setAttributeNS(l,"xmlns:xlink","http://www.w3.org/1999/xlink");u.setAttribute("width",a*s);u.setAttribute("height",f*s);u.setAttribute("viewBox","0 0 "+a+" "+f);n.appendChild(u);u.insertBefore(r(u),u.firstChild);var c=t+n.innerHTML;var h=/<foreignObject.*foreignObject>/;c=c.replace(h,"");var p="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(c)));if(o){o(p)}})};e.saveSvgAsPng=function(t,n,r){e.svgAsDataUri(t,r,function(e){var t=new Image;t.src=e;t.onload=function(){var e=document.createElement("canvas");e.width=t.width;e.height=t.height;var r=e.getContext("2d");r.drawImage(t,0,0);var i=document.createElement("a");i.download=n;i.href=e.toDataURL("image/png");document.body.appendChild(i);i.click()}})}})()